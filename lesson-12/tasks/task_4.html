<!DOCTYPE html>
<html lang="uk">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Task 4</title>
	</head>
	<body>
		<h3>Задача 4. Для розглянутих методів сортування спробувати вивести етапи сортування шляхом виведення відповідних таблиць за зразком.</h3>

		<script>
			function getRandomNum(minV, maxV) {
				return minV + Math.floor(Math.random() * (maxV - minV + 1));
			}
			function getRandomArray(elements, minV, maxV) {
				let arr = [];
				for (let i = 0; i < elements; i++) {
					const randNum = getRandomNum(minV, maxV);
					arr.push(randNum);
				}
				return arr;
			}

			let array = getRandomArray(5, 20, 100);
			console.log('array:', array);

			document.write(`Сортування включенням вставкою <br>`);
			// Сортування включенням вставкою
			function getInclusionSort(arr) {
				// Лічильник порівнянь
				let counterComparing = 0;
				// Лічильник обмінів
				let counterExchanges = 0;

				let key, i;
				let step = 1;
				for (let k = 1; k < arr.length; k++) {
					// document.write(`${step++}).${arr}</br>`);
					key = arr[k];
					i = k - 1;
					while (i >= 0 && arr[i] > key) {
						document.write(`${step++}).${arr}</br>`);
						arr[i + 1] = arr[i];
						i = i - 1;
						counterExchanges++;
						counterComparing++;
					}

					arr[i + 1] = key;
					counterComparing++;
				}

				let result = `${arr} Кількість порівнянь: ${counterComparing}, Кількість обмінів елементів: ${counterExchanges}`;
				return result;
			}
			let sort = getInclusionSort(array);
			document.write(`<br>sort Iclude:${sort} <br> <br>`);
			console.log('sort:', sort);
			// =============================================================================================================================================
			// =============================================================================================================================================
			function swap(arr, i, j) {
				let temp = arr[i];
				arr[i] = arr[j];
				arr[j] = temp;
			}
			document.write(`Сортування змішуванням <br>`);
			// Сортування змішуванням
			function getCocktailSort(arr) {
				// Лічильник порівнянь
				let counterComparing = 0;
				// Лічильник обмінів
				let counterExchanges = 0;
				let step = 1;
				let leftIndex = 0;
				let rightIndex = arr.length - 1;
				while (leftIndex < rightIndex) {
					for (let idx = leftIndex; idx < rightIndex; idx++) {
						document.write(`Змішування: ${step++}).${arr}</br>`);
						counterComparing++;
						if (arr[idx] > arr[idx + 1]) {
							swap(arr, idx, idx + 1);
							counterExchanges++;
						}
					}
					rightIndex--;
					for (let idx = rightIndex; idx > leftIndex; idx--) {
						document.write(`Змішування: ${step++}).${arr}</br>`);
						counterComparing++;
						if (arr[idx] < arr[idx - 1]) {
							swap(arr, idx, idx - 1);
							counterExchanges++;
						}
					}
					leftIndex++;
				}

				let result = `${arr} Кількість порівнянь: ${counterComparing}, Кількість обмінів елементів: ${counterExchanges}`;
				return result;
			}
			let sortCoctail = getCocktailSort(array);
			console.log('sortCoctail:', sortCoctail);
			document.write(`sortCoctail: ${sortCoctail} <br> <br>`);

			document.write(`Сортування Buble <br>`);
			function getBubbleSort(arr) {
				let changed;

				// лічильник змін
				let step = 1;
				// Лічильник порівнянь
				let counterComparing = 0;
				// Лічильник обмінів
				let counterExchanges = 0;
				do {
					changed = false;
					for (let i = 1; i < arr.length; i++) {
						document.write(`Buble: ${step++}).${arr}</br>`);
						counterComparing++;
						if (arr[i - 1] > arr[i]) {
							let temp = arr[i - 1];
							arr[i - 1] = arr[i];
							arr[i] = temp;
							changed = true;
							counterExchanges++;
						}
					}
				} while (changed);
				let result = `${arr} Кількість порівнянь: ${counterComparing}, Кількість обмінів елементів: ${counterExchanges}`;
				return result;
			}
			let sortBuble = getBubbleSort(array);
			document.write(`sortBuble: ${sortBuble} <br>`);
			console.log('sortBuble:', sortBuble);
		</script>
	</body>
</html>
