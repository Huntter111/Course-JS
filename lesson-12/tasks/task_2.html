<!DOCTYPE html>
<html lang="uk">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Task 2</title>
	</head>
	<body>
		<h3>Задача 2. Дано масив 30 випадкових цілих чисел. Підрахувати скільки було обмінів та порівнянь чисел під час сортування змішуванням.</h3>

		<script>
			function getRandomNum(minV, maxV) {
				return minV + Math.floor(Math.random() * (maxV - minV + 1));
			}
			function getRandomArray(elements, minV, maxV) {
				let arr = [];
				for (let i = 0; i < elements; i++) {
					const randNum = getRandomNum(minV, maxV);
					arr.push(randNum);
				}
				return arr;
			}
			let array = getRandomArray(30, 20, 100);
			console.log('array:', array);
			function swap(arr, i, j) {
				let temp = arr[i];
				arr[i] = arr[j];
				arr[j] = temp;
			}
			// Сортування змішуванням
			function getCocktailSort(arr) {
				// Лічильник порівнянь
				let counterComparing = 0;
				// Лічильник обмінів
				let counterExchanges = 0;

				let leftIndex = 0;
				let rightIndex = arr.length - 1;
				while (leftIndex < rightIndex) {
					for (let idx = leftIndex; idx < rightIndex; idx++) {
						counterComparing++;
						if (arr[idx] > arr[idx + 1]) {
							swap(arr, idx, idx + 1);
							counterExchanges++;
						}
					}
					rightIndex--;
					for (let idx = rightIndex; idx > leftIndex; idx--) {
						counterComparing++;
						if (arr[idx] < arr[idx - 1]) {
							swap(arr, idx, idx - 1);
							counterExchanges++;
						}
					}
					leftIndex++;
				}

				let result = `${arr} Кількість порівнянь: ${counterComparing}, Кількість обмінів елементів: ${counterExchanges}`;
				return result;
			}
			let sort = getCocktailSort(array);
			console.log('sort:', sort);
		</script>
	</body>
</html>
